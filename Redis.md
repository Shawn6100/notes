# Redis常用五大数据类型

## Redis键（key）

|     命令      |                            作用                             |
| :-----------: | :---------------------------------------------------------: |
|    keys *     |                     查看当前库所有 key                      |
|  exists key   |                    判断某个 key 是否存在                    |
|   type key    |                       查看 key 的类型                       |
|    del key    |                     删除指定的 key 数据                     |
|  unlink key   |                 删除指定的 key（异步删除）                  |
| expire key 60 |                  设置 key 的过期时间（秒）                  |
|    ttl key    | 查看 key 还有多久过期<br />（-1表示永不过期，-2表示已过期） |



## 基本命令

|   命令   |              作用              |
| :------: | :----------------------------: |
| select 1 | 切换数据库（数据库下标从0-15） |
|  dbsize  |   查看当前数据库 key 的数量    |
| flushdb  |           清空当前库           |
| flushall |           清空全部库           |



## Redis字符串（String）

### 简介

1. String 是 Redis 最基本的类型。

2. 它是二进制安全的，即意味着它可以包含任何数据，如图片或序列化的对象。

3. 一个Redis 字符串 value 的空间最大是512M



### 基本命令

|              命令              |                             作用                             |
| :----------------------------: | :----------------------------------------------------------: |
|         set key value          |                    向 Redis 中添加键值对                     |
|            get key             |                         查询对应键值                         |
|        append key value        |               将给定的 value 追加到原值的末尾                |
|           strlen key           |                         获得值的长度                         |
|        setnx key value         |                 当 key 不存在时设置 key 的值                 |
|            incr key            | 将 key 中储存的数值加1<br />(只能对数值操作，key 不存在时新增值为1) |
|            decr key            |                    将 key 中储存的数值减1                    |
|    incrby / decrby key 步长    |                将 key 中储存的数值增 / 减步长                |
|  mset key1 value1 key2 value2  |                   同时设置一个或多个键值对                   |
|      mget key1 key2 key3       |                   同时获取一个或多个 value                   |
| msetnx key1 value1 key2 value2 | 同时设置一个或多个键值对<br />当且仅当所有给定的 key 都不存在 |

> incr 以及以下命令均为原子性操作，不会被打断
>
> msetnx 命令具有原子性，若其中有一个 key 存在，则其他所有键值设置均失效

|              命令              |                             作用                             |
| :----------------------------: | :----------------------------------------------------------: |
| getrange key 起始位置 结束位置 |            获取值的范围，类似 Java 中的 substring            |
|  setrange key 起始位置 value   | 从起始位置用 value 覆写 key 所储存的字符串值<br />(索引从0开始) |
|    setex key 过期时间 value    |            设置键值的同时，设置过期时间，单位为秒            |
|        getset key value        |            返回旧值，同时将 key 的值设置为 value             |



### 数据结构

> String 的数据结构为简单动态字符串，是可以修改的字符串，内部结构实现上类似于 Java 的 ArrayList，采用预分配冗余空间的方式来减少内存的频繁分配。
>
> 当前字符串实际分配的空间一般要高于实际字符串长度。当字符串长度小于1M时，扩容会将当前空间加倍，如果超过1M，扩容时一次最多扩容1M空间。
>
> 字符串最大长度为512M。





## Redis列表（List）

### 简介

1. 单键多值
2. Redis列表是简单的字符串列表，按照插入顺序排序，可以添加一个元素到列表的头部（左边）或者尾部（右边）
3. Redis列表底层是个双向列表，对两端的操作性能很高，通过索引下标操作中间的节点性能较差。



### 常用命令

| 命令 | 作用 |
| :--: | :--: |
|      |      |
|      |      |
|      |      |
|      |      |
|      |      |

